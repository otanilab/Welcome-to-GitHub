# バージョン管理システム

## バージョン管理システムとは
バージョン管理システムは，プログラマーや開発者，ドキュメント作成者などが，変更されたファイルやドキュメントのバージョン履歴を管理するためのツールである．コードやドキュメントのバージョン管理に特化しており，変更された内容を記録し，履歴を残す．利用することで，変更履歴を追跡できるため，プロジェクトの全体像を把握しやすくなる．開発者がコードを変更する際には，コードの修正履歴が残る．これにより，誰がどのような変更を行ったかを確認でき，誤った変更を取り消したり，前の状態に戻ったりすることができる．

## バージョン管理システムの重要性
バージョン管理システムは，ソフトウェアの開発や変更管理において不可欠なツールである．複数人での開発においては，バージョン管理システムがなければ，各人が記述したコードをひとつにまとめた際に不具合が生じる可能性が高くなる．
<br>
<br>
例えば，3人でひとつの小説を書くとき，3人で一緒に原稿用紙に向かっての執筆作業は難しい．しかし，分担して執筆すると，ひとつにまとめたときにストーリーのつじつまが合わなかったり，表記や表現が途中で変わったりする可能性がある．そのようなときにバージョン管理システムを使うと，執筆途中にお互いの進捗を確認したり，誰かが書いた部分を問題なく修正したりすることができる．ある程度書き進めてから，前に書いたもののほうが良かったと思い直した場合には，前の状態に簡単に戻ることも可能である．これにより，3人はうまく協力して，ひとつの素晴らしい小説を完成させることができる．
<br>
<br>
これをソフトウェア開発の場面に置き換えてみる．例えば，3人の開発者がいるとする．もし，彼らが同時に同じファイルを編集している場合，それぞれの変更が競合し，正しく動作しない可能性がある．バージョン管理システムは複数の開発者が同じファイルを同時に編集しても不具合を発生しないようにするためのものである．開発者は各自の変更をバージョン管理システムに登録することで，変更履歴を管理し，必要に応じて他の人が開発したコードと統合することができる．これにより，チーム内でのコードの衝突や混乱が最小限に抑えられ，より効率的な開発が可能になる．また，過去のバージョンに戻すことも可能となる．開発中にバグが発生した場合や，新しい機能が予期せず動作しなくなった場合，開発者はバージョン管理システムから過去のバージョンを取り出し，そこから再度開発を始めることができる．
<br>
<br>
以上のように，バージョン管理システムは複数人での開発において非常に重要な役割を果たしている．開発者は常にバージョン管理システムを利用して，チーム内でのコードの衝突や混乱を防止し，より効率的に開発を進められるように心がけるべきである．

## バージョン管理システムの歴史
世界初のバージョン管理システムは，1972年にIBMのSystem/370向けに開発され，後にPDP-11上に移植されたSource Code Control System（SCSS）である．
続いて，1982年にRevision Control System（RCS）が開発された．
RCSはファイル単位でバージョン管理を行い，プロジェクトという概念が存在しなかった．
また，ファイルを修正する際にはロックをかける必要があり，誰かが作業中の場合は他の人が作業を開始することができなかった．
<br>
<br>
ここまでのシステムは，ローカルに管理用のディレクトリを置いてバージョン履歴を保存する形式（ローカル型）だったが，1986年に登場したConcurrent Versions System（CVS）から，クライアント・サーバ型に移行された．
CVSサーバはプロジェクトの全履歴を保存しており，クライアントはサーバに接続して任意のバージョンを取り出すことができ，修正後，変更内容をサーバを保存することができる．
CVSは，ネットワークを通して，RCSを使うフロントエンドとして構築されており，キーワード展開やコマンド名などの多くがRCSに由来している．
CVSは，バージョン管理システムのデファクトスタンダードとして広く使われていたが，ファイル名を変更すると履歴が失われたり，バージョン管理がファイルごとであるために，全体を特定のバージョンに戻したい際の操作が面倒であるなどの，不満も多くあった．
これらの不便を解消するため，CVSの大体を目指して作られたのがSubversionである．
Subversionはバージョンがプロジェクト（リポジトリ）単位であり，プロジェクトに含まれるファイルを1つでも更新すると全体のバージョンが上がる．
従って，特定のバージョンに復旧することが容易に可能である．
また，履歴を差分で保存するため，長い間開発していてもファイル容量を圧迫しづらいように工夫されていた．
<br>
<br>
Subversionに代表される中央集権型クライアント・サーバ型のバージョン管理システムは，全ての歴史が一箇所に保存されているのが特徴だった．
大事なデータベースが一箇所にまとまってることは管理が楽である一方，そのサーバが単一障害点となり，その一箇所が停止すると全ての作業が継続困難となり，そのデータが失われてしまうという問題があった．
そこで，分散型のバージョン管理システムが生まれた．分散型バージョン管理システムは，それぞれのローカルマシンに全ての歴史を持ち，ローカルに変更を保存できる．
そして，必要に応じて別のマシンと同期を取ることで変更履歴を共有する．
分散型バージョン管理システムの最初期はBitKeeperである．
これは商用ソフトウェア出会ったが，OSSの開発にはコミュニティ版を無料で使うことができた．
特に，大量のパッチを処理する必要があるLinuxカーネルの開発に使われたことで有名となった．
しかし，BitKeeperの開発元であるBitMover社とLinuxカーネルの開発者がトラブルを起こし，BitKeeperがが使えなくなった．
こうして別のシステムが必要となり，GitやMercurialなどのオープンソースのバージョン管理システムが生まれた．
Eclipse communityの2009年のアンケートではSubversionの使用率が57.5%でトップ，Gitの使用率は2.4%に過ぎなかった．
しかし，2018年にはGitは使用率を87.2%まで伸ばし，世界で一番使われるシステムとなった．

